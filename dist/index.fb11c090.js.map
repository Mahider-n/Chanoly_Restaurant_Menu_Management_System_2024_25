{"mappings":"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","sources":["<anon>","app.ts","api.ts","auth.ts","ui.ts"],"sourcesContent":["var $257d73db9a0e6cb3$exports = {};\n\n\nclass $c4ae5bd63c672a46$export$334c29725a78c21d {\n    static{\n        this.TOKEN_KEY = \"auth_token\";\n    }\n    static setToken(token) {\n        localStorage.setItem(this.TOKEN_KEY, token);\n    }\n    static getToken() {\n        return localStorage.getItem(this.TOKEN_KEY);\n    }\n    static removeToken() {\n        localStorage.removeItem(this.TOKEN_KEY);\n    }\n    static isAuthenticated() {\n        return !!this.getToken();\n    }\n}\n\n\nclass $205c0c276c902f46$export$4b08aed5f1ec6952 {\n    static renderAuthForm() {\n        const container = document.getElementById(\"auth-container\");\n        container.innerHTML = `\n            <div class=\"auth-forms\">\n                <div class=\"form-group\">\n                    <h2>Login</h2>\n                    <form id=\"login-form\">\n                        <div class=\"form-group\">\n                            <label for=\"login-email\">Email:</label>\n                            <input type=\"email\" id=\"login-email\" required>\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"login-password\">Password:</label>\n                            <input type=\"password\" id=\"login-password\" required>\n                        </div>\n                        <button type=\"submit\" class=\"btn\">Login</button>\n                    </form>\n                </div>\n                \n                <div class=\"form-group\">\n                    <h2>Signup</h2>\n                    <form id=\"signup-form\">\n                        <div class=\"form-group\">\n                            <label for=\"signup-email\">Email:</label>\n                            <input type=\"email\" id=\"signup-email\" required>\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"signup-password\">Password:</label>\n                            <input type=\"password\" id=\"signup-password\" required>\n                        </div>\n                        <button type=\"submit\" class=\"btn\">Signup</button>\n                    </form>\n                </div>\n            </div>\n        `;\n    }\n    static renderMenu(items) {\n        const container = document.getElementById(\"menu-container\");\n        container.innerHTML = `\n            <h2>Restaurant Menu</h2>\n            <button id=\"logout-btn\" class=\"btn\">Logout</button>\n            <div class=\"menu-list\">\n                ${items.map((item)=>`\n                    <div class=\"menu-item\">\n                        <h3>${item.name}</h3>\n                        <p>${item.description}</p>\n                        <p>Price: $${item.price}</p>\n                    </div>\n                `).join(\"\")}\n            </div>\n        `;\n    }\n    static showAuthContainer() {\n        document.getElementById(\"auth-container\").classList.remove(\"hidden\");\n        document.getElementById(\"menu-container\").classList.add(\"hidden\");\n    }\n    static showMenuContainer() {\n        document.getElementById(\"auth-container\").classList.add(\"hidden\");\n        document.getElementById(\"menu-container\").classList.remove(\"hidden\");\n    }\n}\n\n\nclass $de9db17bbab00a4e$var$App {\n    constructor(){\n        this.initialize();\n    }\n    initialize() {\n        if ((0, $c4ae5bd63c672a46$export$334c29725a78c21d).isAuthenticated()) this.loadMenu();\n        else this.loadAuth();\n        this.setupEventListeners();\n    }\n    async loadMenu() {\n        try {\n            const token = (0, $c4ae5bd63c672a46$export$334c29725a78c21d).getToken();\n            const menuItems = await (0, $257d73db9a0e6cb3$exports.api).getMenu(token);\n            (0, $205c0c276c902f46$export$4b08aed5f1ec6952).renderMenu(menuItems);\n            (0, $205c0c276c902f46$export$4b08aed5f1ec6952).showMenuContainer();\n        } catch (error) {\n            console.error(\"Failed to load menu:\", error);\n            (0, $c4ae5bd63c672a46$export$334c29725a78c21d).removeToken();\n            this.loadAuth();\n        }\n    }\n    loadAuth() {\n        (0, $205c0c276c902f46$export$4b08aed5f1ec6952).renderAuthForm();\n        (0, $205c0c276c902f46$export$4b08aed5f1ec6952).showAuthContainer();\n    }\n    setupEventListeners() {\n        document.addEventListener(\"submit\", async (e)=>{\n            e.preventDefault();\n            const target = e.target;\n            if (target.id === \"login-form\") await this.handleLogin(target);\n            else if (target.id === \"signup-form\") await this.handleSignup(target);\n        });\n        document.addEventListener(\"click\", (e)=>{\n            const target = e.target;\n            if (target.id === \"logout-btn\") this.handleLogout();\n        });\n    }\n    async handleLogin(form) {\n        const email = form.querySelector(\"#login-email\").value;\n        const password = form.querySelector(\"#login-password\").value;\n        try {\n            const { token: token } = await (0, $257d73db9a0e6cb3$exports.api).login(email, password);\n            (0, $c4ae5bd63c672a46$export$334c29725a78c21d).setToken(token);\n            this.loadMenu();\n        } catch (error) {\n            console.error(\"Login failed:\", error);\n            alert(\"Login failed. Please try again.\");\n        }\n    }\n    async handleSignup(form) {\n        const email = form.querySelector(\"#signup-email\").value;\n        const password = form.querySelector(\"#signup-password\").value;\n        try {\n            const { token: token } = await (0, $257d73db9a0e6cb3$exports.api).signup(email, password);\n            (0, $c4ae5bd63c672a46$export$334c29725a78c21d).setToken(token);\n            this.loadMenu();\n        } catch (error) {\n            console.error(\"Signup failed:\", error);\n            alert(\"Signup failed. Please try again.\");\n        }\n    }\n    handleLogout() {\n        (0, $c4ae5bd63c672a46$export$334c29725a78c21d).removeToken();\n        this.loadAuth();\n    }\n}\nnew $de9db17bbab00a4e$var$App();\n\n\n//# sourceMappingURL=index.fb11c090.js.map\n","import { api } from \"./api\";\nimport { Auth } from \"./auth\";\nimport { UI } from \"./ui\";\n\nclass App {\n  constructor() {\n    this.initialize();\n  }\n\n  private initialize(): void {\n    if (Auth.isAuthenticated()) {\n      this.loadMenu();\n    } else {\n      this.loadAuth();\n    }\n    this.setupEventListeners();\n  }\n\n  private async loadMenu(): void {\n    try {\n      const token = Auth.getToken()!;\n      const menuItems = await api.getMenu(token);\n      UI.renderMenu(menuItems);\n      UI.showMenuContainer();\n    } catch (error) {\n      console.error(\"Failed to load menu:\", error);\n      Auth.removeToken();\n      this.loadAuth();\n    }\n  }\n\n  private loadAuth(): void {\n    UI.renderAuthForm();\n    UI.showAuthContainer();\n  }\n\n  private setupEventListeners(): void {\n    document.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      const target = e.target as HTMLFormElement;\n\n      if (target.id === \"login-form\") {\n        await this.handleLogin(target);\n      } else if (target.id === \"signup-form\") {\n        await this.handleSignup(target);\n      }\n    });\n\n    document.addEventListener(\"click\", (e) => {\n      const target = e.target as HTMLElement;\n      if (target.id === \"logout-btn\") {\n        this.handleLogout();\n      }\n    });\n  }\n\n  private async handleLogin(form: HTMLFormElement): Promise<void> {\n    const email = (form.querySelector(\"#login-email\") as HTMLInputElement)\n      .value;\n    const password = (form.querySelector(\"#login-password\") as HTMLInputElement)\n      .value;\n\n    try {\n      const { token } = await api.login(email, password);\n      Auth.setToken(token);\n      this.loadMenu();\n    } catch (error) {\n      console.error(\"Login failed:\", error);\n      alert(\"Login failed. Please try again.\");\n    }\n  }\n\n  private async handleSignup(form: HTMLFormElement): Promise<void> {\n    const email = (form.querySelector(\"#signup-email\") as HTMLInputElement)\n      .value;\n    const password = (\n      form.querySelector(\"#signup-password\") as HTMLInputElement\n    ).value;\n\n    try {\n      const { token } = await api.signup(email, password);\n      Auth.setToken(token);\n      this.loadMenu();\n    } catch (error) {\n      console.error(\"Signup failed:\", error);\n      alert(\"Signup failed. Please try again.\");\n    }\n  }\n\n  private handleLogout(): void {\n    Auth.removeToken();\n    this.loadAuth();\n  }\n}\n\nnew App();\n","","export class Auth {\n  private static TOKEN_KEY = \"auth_token\";\n\n  static setToken(token: string): void {\n    localStorage.setItem(this.TOKEN_KEY, token);\n  }\n\n  static getToken(): string | null {\n    return localStorage.getItem(this.TOKEN_KEY);\n  }\n\n  static removeToken(): void {\n    localStorage.removeItem(this.TOKEN_KEY);\n  }\n\n  static isAuthenticated(): boolean {\n    return !!this.getToken();\n  }\n}\n","export class UI {\n  static renderAuthForm(): void {\n    const container = document.getElementById(\"auth-container\")!;\n    container.innerHTML = `\n            <div class=\"auth-forms\">\n                <div class=\"form-group\">\n                    <h2>Login</h2>\n                    <form id=\"login-form\">\n                        <div class=\"form-group\">\n                            <label for=\"login-email\">Email:</label>\n                            <input type=\"email\" id=\"login-email\" required>\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"login-password\">Password:</label>\n                            <input type=\"password\" id=\"login-password\" required>\n                        </div>\n                        <button type=\"submit\" class=\"btn\">Login</button>\n                    </form>\n                </div>\n                \n                <div class=\"form-group\">\n                    <h2>Signup</h2>\n                    <form id=\"signup-form\">\n                        <div class=\"form-group\">\n                            <label for=\"signup-email\">Email:</label>\n                            <input type=\"email\" id=\"signup-email\" required>\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"signup-password\">Password:</label>\n                            <input type=\"password\" id=\"signup-password\" required>\n                        </div>\n                        <button type=\"submit\" class=\"btn\">Signup</button>\n                    </form>\n                </div>\n            </div>\n        `;\n  }\n\n  static renderMenu(items: any[]): void {\n    const container = document.getElementById(\"menu-container\")!;\n    container.innerHTML = `\n            <h2>Restaurant Menu</h2>\n            <button id=\"logout-btn\" class=\"btn\">Logout</button>\n            <div class=\"menu-list\">\n                ${items\n                  .map(\n                    (item) => `\n                    <div class=\"menu-item\">\n                        <h3>${item.name}</h3>\n                        <p>${item.description}</p>\n                        <p>Price: $${item.price}</p>\n                    </div>\n                `,\n                  )\n                  .join(\"\")}\n            </div>\n        `;\n  }\n\n  static showAuthContainer(): void {\n    document.getElementById(\"auth-container\")!.classList.remove(\"hidden\");\n    document.getElementById(\"menu-container\")!.classList.add(\"hidden\");\n  }\n\n  static showMenuContainer(): void {\n    document.getElementById(\"auth-container\")!.classList.add(\"hidden\");\n    document.getElementById(\"menu-container\")!.classList.remove(\"hidden\");\n  }\n}\n"],"names":["$257d73db9a0e6cb3$exports","$c4ae5bd63c672a46$export$334c29725a78c21d","TOKEN_KEY","setToken","token","localStorage","setItem","getToken","getItem","removeToken","removeItem","isAuthenticated","$205c0c276c902f46$export$4b08aed5f1ec6952","renderAuthForm","container","document","getElementById","innerHTML","renderMenu","items","map","item","name","description","price","join","showAuthContainer","classList","remove","add","showMenuContainer","constructor","initialize","loadMenu","loadAuth","setupEventListeners","menuItems","api","getMenu","error","console","addEventListener","e","preventDefault","target","id","handleLogin","handleSignup","handleLogout","form","email","querySelector","value","password","login","alert","signup"],"version":3,"file":"index.fb11c090.js.map"}